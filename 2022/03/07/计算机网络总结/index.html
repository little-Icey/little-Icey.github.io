

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="1c3y">
  <meta name="keywords" content="">
  
    <meta name="description" content="一、计算机网络体系结构计算机网络的概念、组成与功能概念计算机网络是一个将分散、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。 组成 从组成部分上看： 由硬件、软件、协议组成 从工作方式：边缘部分（主机）、核心部分（路由器） 功能组成：通信子网（由各种传输介质、通信设备和相应的网络协议组成，实现数据传输、交换、控制和存储）和资源子网（实现资源共享">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络总结">
<meta property="og:url" content="http://example.com/2022/03/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="Icey&#39;s Blog">
<meta property="og:description" content="一、计算机网络体系结构计算机网络的概念、组成与功能概念计算机网络是一个将分散、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。 组成 从组成部分上看： 由硬件、软件、协议组成 从工作方式：边缘部分（主机）、核心部分（路由器） 功能组成：通信子网（由各种传输介质、通信设备和相应的网络协议组成，实现数据传输、交换、控制和存储）和资源子网（实现资源共享">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2022/03/01/W5PwpRVvsMyitLq.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/01/Na45fMYnp3HcmP6.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/01/eXgulw6ZbSPnTfR.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/03/hfu4L6GmgqXKtys.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/06/jY2qlWv7Cwi4KxL.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/06/9NEm5oWGROp7sYA.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/06/8q5HbYwn9KTBRXF.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/06/uGeTzFsEKvmCUok.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/06/NM79RuzZBpoUwTY.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/06/esrFiN7duQfvR38.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/08/TlJtWEDGZC2qx9j.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/06/5k3LGJh1zw7VQpi.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/07/lP27JXtVh1FHfbg.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/07/YXJTk3Uq8sFzSnh.png">
<meta property="og:image" content="https://img2020.cnblogs.com/blog/2053630/202006/2053630-20200602184140681-340477432.jpg">
<meta property="og:image" content="https://s2.loli.net/2022/03/07/wDZp1MtJ4uKoYTk.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/07/wfgOhar6QslqjC9.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/07/xMQJVNGLzeYhnt7.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/07/GYnTvWCow8gSjxL.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/20/jqD57N1npbBrRVA.png">
<meta property="og:image" content="https://latex.codecogs.com/gif.latex?RTTs=(1-a)*(RTTs)+a*RTT">
<meta property="og:image" content="https://latex.codecogs.com/gif.latex?RTO=RTTs+4*RTT_d">
<meta property="og:image" content="https://s2.loli.net/2022/03/20/mZONGtDX7kJsRTh.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/20/lcDyWkNQumagMRi.png">
<meta property="og:image" content="https://s2.loli.net/2022/03/24/AHv4V6MQIWJxy2l.png">
<meta property="article:published_time" content="2022-03-07T13:42:00.000Z">
<meta property="article:modified_time" content="2022-03-27T13:30:00.879Z">
<meta property="article:author" content="1c3y">
<meta property="article:tag" content="计算机基础">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://s2.loli.net/2022/03/01/W5PwpRVvsMyitLq.png">
  
  
  <title>计算机网络总结 - Icey&#39;s Blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/agate.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Icey's Blog" type="application/atom+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Icey&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="计算机网络总结">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-03-07 21:42" pubdate>
        2022年3月7日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      8.7k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      73 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">计算机网络总结</h1>
            
            <div class="markdown-body">
              <h1 id="一、计算机网络体系结构"><a href="#一、计算机网络体系结构" class="headerlink" title="一、计算机网络体系结构"></a>一、计算机网络体系结构</h1><h2 id="计算机网络的概念、组成与功能"><a href="#计算机网络的概念、组成与功能" class="headerlink" title="计算机网络的概念、组成与功能"></a>计算机网络的概念、组成与功能</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>计算机网络是一个将分散、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。</p>
<h3 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h3><ul>
<li>从组成部分上看： 由硬件、软件、协议组成</li>
<li>从工作方式：边缘部分（主机）、核心部分（路由器）</li>
<li>功能组成：通信子网（由各种传输介质、通信设备和相应的网络协议组成，实现数据传输、交换、控制和存储）和资源子网（实现资源共享的设备及其软件的集合）</li>
</ul>
<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul>
<li>数据通信</li>
<li>资源共享</li>
<li>分布式处理</li>
<li>提高可靠性</li>
<li>负载均衡</li>
</ul>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ol>
<li><p>按分布范围分类</p>
<ul>
<li>广域网（WAN），连接广域网的各结点交换机的链路一般是高速链路，具有较大的通信容量</li>
<li>城域网（MAN），大多采用以太网技术</li>
<li>局域网（LAN），使用广播技术，而广域网使用交换技术</li>
<li>个人区域网（PAN），无线技术相连</li>
</ul>
</li>
<li><p>按传输技术</p>
<ul>
<li>广播式网络</li>
<li>点对点网络</li>
</ul>
</li>
<li><p>按拓扑结构分类<br><img src="https://s2.loli.net/2022/03/01/W5PwpRVvsMyitLq.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ul>
<li>总线型网络</li>
<li>星形网络</li>
<li>环形网络</li>
<li>网状形<br>总线形和环形网络多用于局域网，网状形网络多用于广域网 </li>
</ul>
</li>
<li><p>按交换技术分类</p>
<ul>
<li>电路交换网络：在源结点和目的结点之间建立一条专用的通路用于传送数据，包括建立连接、传输数据和断开连接三个阶段。<strong>优点是数据直接传送、时延小；缺点是线路利用率低，不能充分利用线路容量、不便于进行差错控制</strong></li>
<li>报文交换网络：用户数据加上源地址、目的地址、校验码等辅助信息、然后封装成报文。每个报文可以单独选择到达目的结点的路径；<strong>优点是可以充分利用线路容量，缺点是增大了资源开销</strong></li>
<li>分组交换网络：将数据分成较短的固定长度的数据块，在每个数据块中加上目的地址、源地址等辅助信息组成分组（包），以存储-转发方式传输</li>
</ul>
</li>
</ol>
<h3 id="几个指标"><a href="#几个指标" class="headerlink" title="几个指标"></a>几个指标</h3><ol>
<li>带宽（Bandwidth）bit/s</li>
<li>时延（Delay）：<ul>
<li>发送（传输）时延：发送分组的第一个比特算起，到该分组的最后一个比特发送完毕所需的时间（<strong>发送时延 = 分组长度 / 信道宽度</strong>）</li>
<li>传播时延：电磁波在信道中传播的时间（<strong>传播时延 = 信道长度 / 电磁波在信道上传播速率</strong>）</li>
<li>处理时延：一些必要处理所花费的时间</li>
<li>排队时延：分组在进入路由器后要先在输入队列中排队等待处理。路由器确定转发端口后，还要在输出队列中排队等待转发<br>总时延等于上述四部分之和</li>
</ul>
</li>
<li>时延带宽积：发送端发送的第一个比特即将到达终点时，发送端已经发送了多少比特（<strong>时延带宽积 = 传播时延 * 信道带宽</strong>）：<br><img src="https://s2.loli.net/2022/03/01/Na45fMYnp3HcmP6.png" srcset="/img/loading.gif" lazyload alt="image.png"></li>
<li>往返时延（Round-Trip Time, RTT）：发送端发送数据开始，到发送端收到来自接受的确认，总共经历的时延</li>
</ol>
<h2 id="计算机网络体系结构及分层模型"><a href="#计算机网络体系结构及分层模型" class="headerlink" title="计算机网络体系结构及分层模型"></a>计算机网络体系结构及分层模型</h2><p>在计算机网络的分层结构中，第n层的活动元素通常称为n层实体。不同机器上的同一层称为对等层；同一层的实体称为对等实体。n层实体实现的服务为n+1层所利用，在这种情况下，n层被称为服务提供者，n+1层则服务于用户</p>
<h3 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h3><p>为了完成计算机之间有序的信息交换，提出了通信协议的概念，其定义是相互通信的双方（或多方）对如何进行信息交换所必须遵守的一整套规则。<br>协议设计到三个要素，分别为：</p>
<ul>
<li>语法：语法是用户数据与控制信息的结构与格式，以及数据出现顺序的意义</li>
<li>语义：用于解释比特流的每一部分的意义</li>
<li>时序：事件实现顺序的详细说明</li>
</ul>
<h3 id="ISO-OSI参考模型"><a href="#ISO-OSI参考模型" class="headerlink" title="ISO/OSI参考模型"></a>ISO/OSI参考模型</h3><p><img src="https://s2.loli.net/2022/03/01/eXgulw6ZbSPnTfR.png" srcset="/img/loading.gif" lazyload alt="image.png"><br><img src="https://s2.loli.net/2022/03/03/hfu4L6GmgqXKtys.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ul>
<li><strong>应用层</strong>：最高层，为特定应用提供数据传输服务，例如HTTP、DNS协议。数据单位为<strong>报文</strong>（message）</li>
<li><strong>传输层</strong>：负责向<strong>两台主机中进程之间的通信</strong>提供<strong>通用的数据传输服务</strong>。由于应用层协议很多，定义通用的传输层协议就可以支持不断增多的应用层协议。<ul>
<li>运输层包括两种协议：传输控制协议 TCP，提供面向连接、可靠的数据传输服务，数据单位为<strong>报文段</strong>（segment） ；</li>
<li>用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为<strong>用户数据报</strong>。TCP 主要提供完整性服务，UDP 主要提供及时性服务。</li>
<li><strong>传输层提供的是端到端的通信，指的是运行在不同主机内的两个进程之间的通信，一个进程由一个端口来标识</strong></li>
</ul>
</li>
<li><strong>网络层</strong>：为分组交换网上的不同<strong>主机</strong>提供数据传输服务。而传输层协议是为主机中的进程提供数据传输服务。网络层把传输层传递下来的报文段或者用户数据报封装成<strong>分组</strong>。</li>
<li><strong>数据链路层</strong>：网络层针对的还是主机之间的数据传输服务，而主机之间可以有很多链路，链路层协议就是为同一链路的主机提供数据传输服务。在两个相邻结点间的链路上传送数据时，数据链路层将网络层交下来的IP数据报组装成帧，在两个相邻结点间的链路上传送帧（frame）</li>
<li><strong>物理层</strong>：考虑的是怎样在传输媒体上传输数据<strong>比特</strong>流，而不是指具体的传输媒体。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异。</li>
</ul>
<h1 id="二、应用层"><a href="#二、应用层" class="headerlink" title="二、应用层"></a>二、应用层</h1><h2 id="网络应用模型"><a href="#网络应用模型" class="headerlink" title="网络应用模型"></a>网络应用模型</h2><h3 id="客户-服务器模型（C-S）"><a href="#客户-服务器模型（C-S）" class="headerlink" title="客户/服务器模型（C/S）"></a>客户/服务器模型（C/S）</h3><p>在C/S模型中，<strong>服务器</strong>总是打开，它服务于许多其他称为<strong>客户机</strong>的主机请求，工作流程：</p>
<ol>
<li>服务器处于接受请求的状态</li>
<li>客户机发出服务请求，并等待接受结果</li>
<li>服务器收到请求后，分析请求，进行必要的处理，得到结果并发送给客户机<h3 id="P2P模型"><a href="#P2P模型" class="headerlink" title="P2P模型"></a>P2P模型</h3>在P2P模型中，任意一对计算机称为对等机（Peer）,直接相互通信；</li>
</ol>
<h2 id="域名系统（DNS）"><a href="#域名系统（DNS）" class="headerlink" title="域名系统（DNS）"></a>域名系统（DNS）</h2><p>DNS系统采用C/S模型，其协议运行于UDP之上，使用53号端口。</p>
<p>DNS是一个分布式数据库，提供了主机名和 IP 地址之间相互转换的服务。这里的分布式数据库是指，每个站点只保留它自己的那部分数据。</p>
<p>DNS采用层次树状结构的命名方法：</p>
<p><img src="https://s2.loli.net/2022/03/06/jY2qlWv7Cwi4KxL.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="域名服务器"><a href="#域名服务器" class="headerlink" title="域名服务器"></a>域名服务器</h3><ol>
<li><p>根域名服务器：管理顶级域（如.com）</p>
</li>
<li><p>顶级域名服务器：管理二级域名</p>
</li>
<li><p>授权域名服务器：将其管辖的主机名转化为该主机的IP地址</p>
</li>
<li><p>本地域名服务器：当一台主机发出DNS查询请求时，这个查询请求报文就发送给该主机的本地域名服务器</p>
<p><img src="https://s2.loli.net/2022/03/06/9NEm5oWGROp7sYA.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
</li>
</ol>
<h3 id="域名解析过程"><a href="#域名解析过程" class="headerlink" title="域名解析过程"></a>域名解析过程</h3><p><img src="https://s2.loli.net/2022/03/06/8q5HbYwn9KTBRXF.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h2 id="文件传输协议（FTP）"><a href="#文件传输协议（FTP）" class="headerlink" title="文件传输协议（FTP）"></a>文件传输协议（FTP）</h2><p>FTP提供交互式的访问，允许客户指明文件的<strong>类型与格式</strong>，并允许文件具有存取权限。</p>
<p>FTP采用C/S模型，使用TCP可靠传输服务</p>
<h3 id="控制连接与数据连接"><a href="#控制连接与数据连接" class="headerlink" title="控制连接与数据连接"></a>控制连接与数据连接</h3><p>FTP在工作时使用两个并行的TCP连接：一个是控制连接（端口21），一个是数据连接（端口20）：</p>
<p><img src="https://s2.loli.net/2022/03/06/uGeTzFsEKvmCUok.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ul>
<li>控制连接：服务器打开端口号 21 等待客户端的连接，客户端主动建立连接后，使用这个连接将客户端的命令传送给服务器，并传回服务器的应答。</li>
<li>数据连接：20端口用来传送一个文件数据。</li>
</ul>
<p>因为FTP使用了一个分离的控制连接，所以也称FTP的控制信息为带外（Out-of-Band）传送的</p>
<h2 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h2><h3 id="电子邮件系统的组成结构"><a href="#电子邮件系统的组成结构" class="headerlink" title="电子邮件系统的组成结构"></a>电子邮件系统的组成结构</h3><p><img src="https://s2.loli.net/2022/03/06/NM79RuzZBpoUwTY.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="SMTP"><a href="#SMTP" class="headerlink" title="SMTP"></a>SMTP</h3><p>SMTP使用TCP，端口25，为推协议</p>
<h3 id="POP3"><a href="#POP3" class="headerlink" title="POP3"></a>POP3</h3><p>邮件读取协议，拉协议，当用户读取邮件时，用户代理向邮件服务器发出请求，“拉”取用户邮箱中的邮件</p>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>HTTP是无状态的，但采用TCP作为运输层协议，保证了数据的可靠传输。</p>
<p>HTTP既可以采用非持久连接，也可以采用持久连接（HTTP/1.1）</p>
<p><img src="https://s2.loli.net/2022/03/06/esrFiN7duQfvR38.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ul>
<li>非持久：（2RTT + 文件传输时间）* 文档数</li>
<li>持久：<ul>
<li>流水线：RTT（用于TCP连接）+ RTT（连续请求多个文档）</li>
<li>非流水线：RTT + 请求文档数 * RTT</li>
</ul>
</li>
</ul>
<h3 id="HTTP报文结构"><a href="#HTTP报文结构" class="headerlink" title="HTTP报文结构"></a>HTTP报文结构</h3><p><img src="https://s2.loli.net/2022/03/08/TlJtWEDGZC2qx9j.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="HTTP方法"><a href="#HTTP方法" class="headerlink" title="HTTP方法"></a>HTTP方法</h3><p>客户端发送的 <strong>请求报文</strong> 第一行为<strong>请求行</strong>，包含了方法字段。</p>
<ul>
<li>GET：获取资源；当前网络请求中，绝大部分使用的是 GET 方法。</li>
<li>HEAD：获取报文首部；和GET类似，但是不返回报文实体主体部分，主要用于确认URL的有效性以及资源的日期时间</li>
<li>POST：传输实体主体；POST主要用来传输数据，而GET主要用来获取资源</li>
<li>PUT：上传文件；由于自身不带验证机制，任何人都可以上传文件，因此存在安全性问题，一般不使用该方法。</li>
<li>DELETE：删除文件；不带验证机制</li>
</ul>
<h3 id="HTTP验证码"><a href="#HTTP验证码" class="headerlink" title="HTTP验证码"></a>HTTP验证码</h3><p>服务器返回的 <strong>响应报文</strong> 中第一行为<strong>状态行</strong>，包含了状态码以及原因短语，用来告知客户端请求的结果。</p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>类别</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>1XX</td>
<td>Informational（信息性状态码）</td>
<td>接收的请求正在处理</td>
</tr>
<tr>
<td>2XX</td>
<td>Success（成功状态码）请求正常处理完毕</td>
<td>请求正常处理完毕</td>
</tr>
<tr>
<td>3XX</td>
<td>Redirection（重定向状态码）</td>
<td>需要进行附加操作以完成请求</td>
</tr>
<tr>
<td>4XX</td>
<td>Client Error（客户端错误状态码）</td>
<td>服务器无法处理请求</td>
</tr>
<tr>
<td>5XX</td>
<td>Server Error（服务器错误状态码）</td>
<td>服务器处理请求出错</td>
</tr>
</tbody></table>
<h4 id="1XX信息："><a href="#1XX信息：" class="headerlink" title="1XX信息："></a>1XX信息：</h4><ul>
<li>100 Continue ：表明到目前为止都很正常，客户端可以继续发送请求或者忽略这个响应。</li>
</ul>
<h4 id="2XX成功"><a href="#2XX成功" class="headerlink" title="2XX成功"></a>2XX成功</h4><ul>
<li>200 OK</li>
<li>204 No Content ：请求已经成功处理，但是返回的响应报文不包含实体的主体部分。一般在只需要从客户端往服务器发送信息，而不需要返回数据时使用。</li>
<li>206 Partial Content ：表示客户端进行了范围请求，响应报文包含由 Content-Range 指定范围的实体内容。</li>
</ul>
<h4 id="3XX-重定向"><a href="#3XX-重定向" class="headerlink" title="3XX 重定向"></a>3XX 重定向</h4><ul>
<li>301 Moved Permanently ：永久性重定向</li>
<li>302 Found ：临时性重定向</li>
<li>303 See Other ：和 302 有着相同的功能，但是 303 明确要求客户端应该采用 GET 方法获取资源。</li>
<li>注：虽然 HTTP 协议规定 301、302 状态下重定向时不允许把 POST 方法改成 GET 方法，但是大多数浏览器都会在 301、302 和 303 状态下的重定向把 POST 方法改成 GET 方法。</li>
<li>304 Not Modified ：如果请求报文首部包含一些条件，例如：If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since，如果不满足条件，则服务器会返回 304 状态码。</li>
<li>307 Temporary Redirect ：临时重定向，与 302 的含义类似，但是 307 要求浏览器不会把重定向请求的 POST 方法改成 GET 方法。</li>
</ul>
<h4 id="4XX客户端错误"><a href="#4XX客户端错误" class="headerlink" title="4XX客户端错误"></a>4XX客户端错误</h4><ul>
<li>400 Bad Request ：请求报文中存在语法错误。</li>
<li>401 Unauthorized ：该状态码表示发送的请求需要有认证信息（BASIC 认证、DIGEST 认证）。如果之前已进行过一次请求，则表示用户认证失败。</li>
<li>403 Forbidden ：请求被拒绝。</li>
<li>404 Not Found</li>
</ul>
<h4 id="5XX服务器错误"><a href="#5XX服务器错误" class="headerlink" title="5XX服务器错误"></a>5XX服务器错误</h4><ul>
<li>500 Internal Server Error ：服务器正在执行请求时发生错误。</li>
<li>503 Service Unavailable ：服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。</li>
</ul>
<h1 id="三、传输层"><a href="#三、传输层" class="headerlink" title="三、传输层"></a>三、传输层</h1><h2 id="传输层提供的服务"><a href="#传输层提供的服务" class="headerlink" title="传输层提供的服务"></a>传输层提供的服务</h2><h3 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h3><ol>
<li><p>提供应用进程之间的逻辑通信（<strong>端到端</strong>）</p>
<p><img src="https://s2.loli.net/2022/03/06/5k3LGJh1zw7VQpi.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
</li>
<li><p>复用与分用：复用指发送方不同应用进程都可使用同一个传输层协议传送数据；分用指接收方的传输层在剥去报文的首部后能够把这些数据正确交付到目的应用进程</p>
</li>
<li><p>差错检测（首部和数据，TCP和UDP都要加上伪头部）</p>
</li>
<li><p>两种不同的传输协议：TCP和UDP</p>
</li>
</ol>
<h3 id="传输层的寻址和端口"><a href="#传输层的寻址和端口" class="headerlink" title="传输层的寻址和端口"></a>传输层的寻址和端口</h3><h4 id="端口的作用"><a href="#端口的作用" class="headerlink" title="端口的作用"></a>端口的作用</h4><p>端口能够让应用层的各种应用程序将其数据通过端口向下交付给传输层，以及让传输层知道应当将其报文段中的数据向上通过端口交付给应用层相应的进程</p>
<h4 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h4><ol>
<li><p>熟知端口号：0~1023</p>
<table>
<thead>
<tr>
<th>应用程序</th>
<th>FTP</th>
<th>TELNET</th>
<th>SMTP</th>
<th>DNS</th>
<th>TFTP</th>
<th>HTTP</th>
<th>SNMP</th>
</tr>
</thead>
<tbody><tr>
<td>熟知端口号</td>
<td>21</td>
<td>23</td>
<td>25</td>
<td>53</td>
<td>69</td>
<td>80</td>
<td>161</td>
</tr>
</tbody></table>
</li>
<li><p>客户端使用的：49152~65535</p>
</li>
</ol>
<h4 id="套接字"><a href="#套接字" class="headerlink" title="套接字"></a>套接字</h4><p>套接字 = (主机IP地址，端口号)</p>
<h3 id="无连接服务与面向连接服务"><a href="#无连接服务与面向连接服务" class="headerlink" title="无连接服务与面向连接服务"></a>无连接服务与面向连接服务</h3><p>TCP和UDP</p>
<h2 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h2><h3 id="UDP数据报"><a href="#UDP数据报" class="headerlink" title="UDP数据报"></a>UDP数据报</h3><p>优点：</p>
<ul>
<li>无需建立连接，因此无引入建立连接的时延</li>
<li>无连接状态</li>
<li>分组首部开销小，TCP为20B，UDP为8B</li>
<li>无拥塞控制，应用层更好地控制要发送的数据和发送时间</li>
</ul>
<p>UDP尽最大努力的交付（Best-effort），即不保证可靠交付。所有维护可靠性的工作由用户在<strong>应用层</strong>来完成。</p>
<h4 id="UDP首部格式"><a href="#UDP首部格式" class="headerlink" title="UDP首部格式"></a>UDP首部格式</h4><p>长度包括<strong>首部和数据</strong></p>
<p><img src="https://s2.loli.net/2022/03/07/lP27JXtVh1FHfbg.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="UDP校验"><a href="#UDP校验" class="headerlink" title="UDP校验"></a>UDP校验</h3><p>在计算校验和时，要<strong>临时</strong>加上12B的<strong>伪头部</strong>，伪头部既不向下传送也不向上递交。这样校验和既检查了UDP数据报，又对IP数据报的源IP地址和目的IP地址进行了校验</p>
<p><img src="https://s2.loli.net/2022/03/07/YXJTk3Uq8sFzSnh.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>校验计算方法与IP数据报校验一样，都是<strong>二进制反码运算求和再取反</strong>。不同的是，IP数据报只检验IP数据报的首部，而UDP检验首部和数据.</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/roccoshi/p/13033014.html">UDP校验和的计算方法</a></p>
<p><img src="https://img2020.cnblogs.com/blog/2053630/202006/2053630-20200602184140681-340477432.jpg" srcset="/img/loading.gif" lazyload></p>
<h2 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h2><h3 id="TCP协议的特点"><a href="#TCP协议的特点" class="headerlink" title="TCP协议的特点"></a>TCP协议的特点</h3><ol>
<li>面向连接</li>
<li>点对点</li>
<li><strong>可靠的交付服务</strong></li>
<li>全双工通信：允许通信双方的应用进程在任何时候都能发送数据</li>
<li>面向字节流</li>
</ol>
<h3 id="TCP报文段"><a href="#TCP报文段" class="headerlink" title="TCP报文段"></a>TCP报文段</h3><p>整个TCP报文段作为IP数据报的数据部分</p>
<p>首部最短为20B</p>
<p><img src="https://s2.loli.net/2022/03/07/wDZp1MtJ4uKoYTk.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ol>
<li>源端口和目的端口字段：各占2B</li>
<li>序号字段：4B。由于TCP面向字节流，所以传送的数据流的每个字节都编上一个序号。序号字段的值指的是本报文段所发送方的数据的第一个字节的序号</li>
<li>确认号字段：4B。期望受到对方的下一个报文段的数据的第一个字节的序号。若确认号为N，则说明到N-1为止的所有数据都已正确收到</li>
<li>数据偏移（即首部长度）：4bit，指出TCP报文段的数据起始处距离TCP报文段的起始处有多远；计算：首部长度*4B</li>
<li>保留字段</li>
<li>紧急位URG：URG=1，表明紧急指针字段有效</li>
<li>确认位ACK：当ACK=1时，确认号字段才有效。TCP规定，在连接建立后所有传送的报文段都必须把ACK置1</li>
<li>推送位PSH：接收TCP 收到 PSH=1的报文段，就尽快地交付给接收应用，而不再等到整个缓存都填满后再向上交付。</li>
<li>复位位RST：Reset：RST=1时，表明TCP连接中出现严重差错（如主机崩溃或其他因)，必须释放连接，然后再重新建立运输连接。</li>
<li>同步位SYN：同步SYN=1表明这是一个连接请求或连接接收报文</li>
<li>终止位FIN：用来释放一个连接</li>
<li><img src="https://s2.loli.net/2022/03/07/wfgOhar6QslqjC9.png" srcset="/img/loading.gif" lazyload alt="image.png"></li>
</ol>
<h3 id="TCP连接管理"><a href="#TCP连接管理" class="headerlink" title="TCP连接管理"></a>TCP连接管理</h3><p><img src="https://s2.loli.net/2022/03/07/xMQJVNGLzeYhnt7.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>连接过程：</p>
<ul>
<li>首先B处于监听状态，等待客户的连接请求</li>
<li>A向B的TCP发送一个<strong>连接请求报文段</strong>，SYN=1，选择一个随机起始序号seq=x，称为<strong>SYN包</strong></li>
<li>B的TCP收到连接请求后，如同意连接，则发送<strong>确认报文段</strong>，SYN=1，ACK=1，seq=y（随机选择一个初始序号），ack=x+1，这个包又叫<strong>SYN-ACK包</strong></li>
<li>A收到确认报文段后，向B发出确认，ACK=1，seq=x+1，ack=y+1</li>
<li>B收到A的确认后，连接建立</li>
</ul>
<h4 id="三次握手的原因"><a href="#三次握手的原因" class="headerlink" title="三次握手的原因"></a>三次握手的原因</h4><div class="note note-success">
            <p>第三次握手是为了防止失效的连接请求到达服务器，让服务器错误打开连接。</p><p>客户端发送的连接请求如果在网络中滞留，那么就会隔很长一段时间才能收到服务器端发回的连接确认。客户端等待一个超时重传时间之后，就会重新请求连接。但是这个滞留的连接请求最后还是会到达服务器，如果不进行三次握手，那么服务器就会打开两个连接。如果有第三次握手，客户端会忽略服务器之后发送的对滞留连接请求的连接确认，不进行第三次握手，因此就不会再次打开连接。</p>
          </div>

<h3 id="TCP连接的释放"><a href="#TCP连接的释放" class="headerlink" title="TCP连接的释放"></a>TCP连接的释放</h3><p><img src="https://s2.loli.net/2022/03/07/GYnTvWCow8gSjxL.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>以下描述不讨论序号和确认号，因为序号和确认号的规则比较简单。并且不讨论 ACK，因为 ACK 在连接建立之后都为 1。</p>
<ul>
<li>A 发送连接释放报文，FIN=1。</li>
<li>B 收到之后发出确认，此时 TCP 属于半关闭状态，B 能向 A 发送数据但是 A 不能向 B 发送数据。</li>
<li>当 B 不再需要连接时，发送连接释放报文，FIN=1。</li>
<li>A 收到后发出确认，进入 TIME-WAIT 状态，等待 2 MSL（最大报文存活时间）后释放连接。</li>
<li>B 收到 A 的确认后释放连接。</li>
</ul>
<h4 id="四次挥手的原因"><a href="#四次挥手的原因" class="headerlink" title="四次挥手的原因"></a>四次挥手的原因</h4><div class="note note-info">
            <p>客户端发送了 FIN 连接释放报文之后，服务器收到了这个报文，就进入了 CLOSE-WAIT 状态。这个状态是为了让服务器端发送还未传送完毕的数据，传送完毕之后，服务器会发送 FIN 连接释放报文。</p>
          </div>

<h4 id="TIME-WAIT"><a href="#TIME-WAIT" class="headerlink" title="TIME_WAIT"></a>TIME_WAIT</h4><p>客户端接收到服务器端的 FIN 报文后进入此状态，此时并不是直接进入 CLOSED 状态，还需要等待一个时间计时器设置的时间 2MSL。这么做有两个理由：</p>
<ul>
<li>确保最后一个确认报文能够到达。如果 B 没收到 A 发送来的确认报文，那么就会重新<br>发送连接释放请求报文，A 等待一段时间就是为了处理这种情况的发生。</li>
<li>等待一段时间是为了让本连接持续时间内所产生的所有报文都从网络中消失，使得下一个新的连接不会出现旧的连接请求报文。</li>
</ul>
<h3 id="TCP可靠传输"><a href="#TCP可靠传输" class="headerlink" title="TCP可靠传输"></a>TCP可靠传输</h3><h4 id="1-序号"><a href="#1-序号" class="headerlink" title="1.序号"></a>1.序号</h4><p>TCP将数据视为一个<span class="label label-primary">无结构但有序的字节流</span>，序号建立在传送的字节流上，而不建立在报文段之上。<br><img src="https://s2.loli.net/2022/03/20/jqD57N1npbBrRVA.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="2-确认"><a href="#2-确认" class="headerlink" title="2.确认"></a>2.确认</h4><p>确认号是期望收到对方的下一个报文段的数据的第一个字节的序号<br>TCP默认使用累计确认，只确认数据流中第一个丢失字节为止的字节</p>
<h4 id="3-重传"><a href="#3-重传" class="headerlink" title="3.重传"></a>3.重传</h4><ol>
<li><p>超时<br>一个报文段从发送再到接收到确认所经过的时间称为往返时间 RTT，加权平均往返时间 RTTs 计算如下：<br><img src="https://latex.codecogs.com/gif.latex?RTTs=(1-a)*(RTTs)+a*RTT" srcset="/img/loading.gif" lazyload><br>其中，0 ≤ a ＜ 1，RTTs 随着 a 的增加更容易受到 RTT 的影响。<br>超时时间 RTO 应该略大于 RTTs，TCP 使用的超时时间计算如下：<br><img src="https://latex.codecogs.com/gif.latex?RTO=RTTs+4*RTT_d" srcset="/img/loading.gif" lazyload><br>其中 RTTd 为偏差的加权平均值。</p>
</li>
<li><p>冗余ACK<br>冗余ACK就是再次确认某个报文段的ACK，而发送方先前已经收到过该报文段的确认。</p>
</li>
</ol>
<p>例如，发送方A发送了序号为1、2、3、4、5的TCP报文段，其中2号在链路中丢失；3、4、5到达B，但它们不是B所期望的下一个报文，于是B就发送3个对1号报文段的冗余ACK，表示自己期望收到2号报文段</p>
<p>TCP规定每当比期望序号大的失序报文段到达时，就发送一个冗余ACK，指明下一个期待字节的序号，当发送方收到对同一个报文段的3个冗余ACK时，就可以认为跟在这个被确认报文段之后的报文段已丢失</p>
<h3 id="TCP流量控制"><a href="#TCP流量控制" class="headerlink" title="TCP流量控制"></a>TCP流量控制</h3><p>TCP提供流量控制服务来消除发送方使接收方缓存区溢出的可能性，TCP提供一种基于滑动窗口协议的流量控制机制。</p>
<p>接收方根据接收缓存的大小，动态调整发送方的发送窗口大小：<span class="label label-primary">接收窗口rwnd</span></p>
<p>发送方根据对网络拥塞程序的估计确定<span class="label label-primary">拥塞窗口cwnd</span></p>
<h3 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h3><p>如果网络出现拥塞，分组将会丢失，此时发送方会继续重传，从而导致网络拥塞程度更高。因此当出现拥塞时，应当控制发送方的速率。这一点和流量控制很像，但是出发点不同。流量控制是为了让接收方能来得及接收，而拥塞控制是为了降低整个网络的拥塞程度。</p>
<p>TCP 主要通过四个算法来进行拥塞控制：<strong>慢开始</strong>、<strong>拥塞避免</strong>、<strong>快重传</strong>、<strong>快恢复</strong>。</p>
<p>发送方需维护以下两个窗口：</p>
<ol>
<li><p><strong>接收窗口rwnd</strong>，接收方根据目前接收缓存大小所许诺的最新窗口值，反映接收方的容量。由接收方放在TCP报头的窗口字段</p>
</li>
<li><p><strong>拥塞窗口cwnd</strong>，发送方根据自己估算的网络拥塞程度设置的窗口值</p>
</li>
</ol>
<div class="note note-success">
            <p>发送窗口的上限值 = min[rwnd, cwnd]</p>
          </div>

<p>为了便于讨论，做如下假设：</p>
<ul>
<li>接收方有足够大的接收缓存，因此不会发生流量控制；</li>
<li>虽然 TCP 的窗口基于字节，但是这里设窗口的大小单位为报文段。</li>
</ul>
<h4 id="1-慢开始和拥塞避免"><a href="#1-慢开始和拥塞避免" class="headerlink" title="1.慢开始和拥塞避免"></a>1.慢开始和拥塞避免</h4><ol>
<li><p>慢开始算法<br>发送的最初执行慢开始，令 cwnd = 1，发送方只能发送 1 个报文段；当收到确认后，将 cwnd 加倍，因此之后发送方能够发送的报文段数量为：2、4、8 …</p>
</li>
<li><p>拥塞避免算法<br>注意到慢开始每个轮次都将 cwnd 加倍，这样会让 cwnd 增长速度非常快，从而使得发送方发送的速度增长速度过快，网络拥塞的可能性也就更高。设置一个慢开始门限 ssthresh，当 cwnd &gt;= ssthresh 时，进入拥塞避免，每个轮次只将 cwnd 加 1。<br>如果出现了超时，则令 ssthresh = cwnd / 2，然后重新执行慢开始。</p>
</li>
</ol>
<p><img src="https://s2.loli.net/2022/03/20/mZONGtDX7kJsRTh.png" srcset="/img/loading.gif" lazyload></p>
<h4 id="2-快重传与快恢复"><a href="#2-快重传与快恢复" class="headerlink" title="2.快重传与快恢复"></a>2.快重传与快恢复</h4><ol>
<li><p>快重传<br>当发送方连续收到三个重复的ACK报文时，直接重传对方尚未收到的报文段，而不必等待那个报文段设置的重传计时器超时</p>
</li>
<li><p>快恢复<br>发送端收到连续三个冗余ACK，执行“乘法减小”，将慢开始门限ssthresh设置为出现拥塞时发送方cwnd的一半。与慢开始（cwnd=1）不同的是，它将cwnd设置为ssthresh改变后的数值，然后开始执行拥塞避免（加法增大），使cwnd缓慢线性增大</p>
</li>
</ol>
<p><img src="https://s2.loli.net/2022/03/20/lcDyWkNQumagMRi.png" srcset="/img/loading.gif" lazyload></p>
<h1 id="四、网络层"><a href="#四、网络层" class="headerlink" title="四、网络层"></a>四、网络层</h1><h2 id="网络层的功能"><a href="#网络层的功能" class="headerlink" title="网络层的功能"></a>网络层的功能</h2><h3 id="异构网络互联"><a href="#异构网络互联" class="headerlink" title="异构网络互联"></a>异构网络互联</h3><p>异构指的物理层和数据链路层不同</p>
<p>在路由器互联的多个局域网的结构中，要求每个局域网物理层、数据链路、网络层可以不同，但网络层其上必须相同；因为路由器为第3层设备，向传输层以上层次隐藏下层的具体实现。</p>
<p>将两个以上的计算机网络通过一定的方法，用一种或多种通信处理设备（中间设备）相互连接起来，以构成更大的网络系统：</p>
<ol>
<li>物理层中继系统：中继器、集线器（Hub）</li>
<li>数据链路层：网桥或交换机</li>
<li>网络层：路由器（router）</li>
<li>网络层以上：网关</li>
</ol>
<p>使用IP协议，可以把异构的物理网络连接起来，使得在网络层看起来好像一个统一的网络：<br><img src="https://s2.loli.net/2022/03/24/AHv4V6MQIWJxy2l.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="路由与转发"><a href="#路由与转发" class="headerlink" title="路由与转发"></a>路由与转发</h3><p>路由器主要完成两个功能：</p>
<ol>
<li>路由选择：根据特定的路由选择协议，构造出路由表，同时经常或定期地和相邻路由器交换路由信息而不断地更新和维护路由表</li>
<li>分组转发：路由器根据转发表将用户的IP数据报从合适的端口转发出去</li>
</ol>
<h2 id="路由算法"><a href="#路由算法" class="headerlink" title="路由算法"></a>路由算法</h2><h3 id="静态路由与动态路由"><a href="#静态路由与动态路由" class="headerlink" title="静态路由与动态路由"></a>静态路由与动态路由</h3><ul>
<li>静态路由算法：网络管理员手工配置路由信息</li>
<li>动态路由算法：路由器上的路由表项是通过相互连接的路由器之间彼此交换信息，然后根据一定的算法优化出来的。</li>
</ul>
<h3 id="距离-向量路由算法"><a href="#距离-向量路由算法" class="headerlink" title="距离-向量路由算法"></a>距离-向量路由算法</h3><p>所有结点都定期地将它们的整个路由选择表传送给所有与之直接相连的结点。</p>
<p>路由选择表包含：</p>
<ul>
<li>每条路径的目的地</li>
<li>路径的代价</li>
</ul>
<h3 id="链路状态路由算法"><a href="#链路状态路由算法" class="headerlink" title="链路状态路由算法"></a>链路状态路由算法</h3><p>要求参与该算法的结点都具有完全的网络拓扑信息。在一个链路状态选择中，一个结点检查所有直接链路的状态，并将所得的状态信息发送给网上的所有结点，而不是仅送给那些直接相连的结点。每当链路状态报文到达时，结点就用这些信息去更新自己的网络拓扑和状态“视图”，一旦链路状态发生变化，结点就对更新的网络图利用Dijsktra最短路径算法重新计算路由，从单一的源出发计算到达所有目的结点的最短路径。</p>
<div class="note note-success">
            <p>两者比较：在<strong>距离-向量</strong>中，每个结点仅与它的直接邻居交谈，它为它的邻居提供从自己到网络中所有其他结点的最低费用估计。在链路状态中，每个结点通过广播的方式与所有其他结点交谈，但它仅告诉他们与它直接相连的链路的费用。相较之下，距离-向量有可能遇到路由环路问题。</p>
          </div>

<h3 id="层次路由"><a href="#层次路由" class="headerlink" title="层次路由"></a>层次路由</h3><p>将互联网划分为许多较小的自治系统（包含许多局域网），每个自治系统有权自主决定本系统内采用何种路由协议。</p>
<p>将路由协议分为两大类：</p>
<ol>
<li>一个自治系统内部所使用的路由协议称为：<span class="label label-primary">内部网关协议（IGP）</span>，有RIP和OSPF等</li>
<li>自治系统之间所使用的路由选择协议称为：<span class="label label-primary">外部网关协议</span>，用于在不同自治系统的路由器之间交换路由信息，并负责为分组在不同自治系统之间选择最优的路径。具体的协议有BGP</li>
</ol>
<p>在使用层次路由时，OSPF将整个网络划分为若干区域（Area），每个路由器都知道在本区域内如何把分组路由到目的地的细节，但不用知道其他区域的内部结构</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/03/08/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">操作系统总结</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/06/04/SCUCTF/">
                        <span class="hidden-mobile">SCUCTF WriteUp</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
